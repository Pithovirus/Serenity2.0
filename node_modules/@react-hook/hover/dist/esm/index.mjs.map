{"version":3,"file":"index.mjs","sources":["../../src/index.tsx"],"sourcesContent":["import * as React from 'react'\nimport useEvent from '@react-hook/event'\n\nfunction useHover<T extends HTMLElement>(\n  target: React.RefObject<T> | T | null,\n  options: UseHoverOptions = {}\n): boolean {\n  const {enterDelay, leaveDelay} = options\n  const timeout = React.useRef<number | undefined>()\n  const [hovering, setHovering] = React.useState(false)\n\n  const toggle = (which: boolean) => {\n    if (!canHover()) return\n    const delay = which ? enterDelay : leaveDelay\n    window.clearTimeout(timeout.current)\n\n    if (delay) {\n      timeout.current = window.setTimeout(() => setHovering(which), delay)\n    } else {\n      setHovering(which)\n    }\n  }\n\n  useEvent(target, 'mouseenter', () => toggle(true))\n  useEvent(target, 'mouseleave', () => toggle(false))\n\n  // Cleans up timeout on unmount\n  React.useEffect(\n    () => () => {\n      window.clearTimeout(timeout.current)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  return hovering\n}\n\nconst canHover = (): boolean =>\n  typeof window !== 'undefined'\n    ? !window.matchMedia('(hover: none)').matches\n    : false\n\nexport interface UseHoverOptions {\n  enterDelay?: number\n  leaveDelay?: number\n}\n\nexport interface UseHoverState {\n  status: 'idle' | 'hovering'\n  timeout: number | undefined\n}\n\nexport type UseHoverAction = {\n  type: 'setStatus'\n  value: 'idle' | 'hovering'\n  force?: boolean\n}\n\nexport default useHover\n"],"names":["target","options","window","clearTimeout","timeout","current","enterDelay","leaveDelay","React","hovering","setHovering","toggle","which","matchMedia","matches","delay","setTimeout","useEvent"],"mappings":"4GAGA,SACEA,EACAC,gBAwBIC,OAAOC,aAAaC,EAAQC,kBAxBhCJ,IAAAA,EAA2B,QAErBK,WAACA,EAADC,WAAaA,GAAcN,EAC3BG,EAAUI,KACTC,EAAUC,GAAeF,EAAe,GAEzCG,EAAUC,OA4BE,oBAAXV,SACFA,OAAOW,WAAW,iBAAiBC,aA3BhCC,EAAQH,EAAQN,EAAaC,EACnCL,OAAOC,aAAaC,EAAQC,SAExBU,EACFX,EAAQC,QAAUH,OAAOc,8BAAiBN,EAAYE,KAAQG,GAE9DL,EAAYE,YAIhBK,EAASjB,EAAQ,aAAc,IAAMW,EAAO,IAC5CM,EAASjB,EAAQ,aAAc,IAAMW,EAAO,IAG5CH,EACE,UAOKC"}